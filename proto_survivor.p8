pico-8 cartridge // http://www.pico-8.com
version 41
__lua__
--main

function _init()
	col=7	
	player:init()
end 

function _update60()
	player:update()
	if(btnp(❎)) col=8+rnd(8)
end

function _draw()
	cls()
	camera(player.x-64, player.y-64)
	circfill(64,64,32,col)
	map(0, 0)
	player:draw()

end
-->8
--player
player = {
	sprite_idle=1,
	
	init=function(self)
		self.x=64*8 --x place
		self.y=32*8 -- y place
		self.offx=1 -- x offset
		self.offy=0 -- y offset
		self.speed=1 --speed movement
		self.width=5 -- width pixel sprite
		self.heigth=7 -- heigth pixel sprite
	end,
	
	update=function(self)
		local dx,dy=0,0
		if(btn(⬅️)) dx=-1
		if(btn(➡️)) dx+=1
		if(btn(⬆️)) dy=-1
		if(btn(⬇️)) dy+=1

		if not(is_solid("full",self,dx,0,1)) then self.x+=dx
		if not(is_solid("full",self,0,dy,1)) then self.y+=dx

	end,
	
	draw=function(self)
		self:draw_player()
	end,
	
	draw_player=function(self)
		spr(self.sprite_idle, self.x, self.y)
	end,
}
-->8
--level
world = {
	
	init=function ()
			
	end,

	draw=function(self)
	end,

	draw_level=function(self)
	end,
}
-->8
--Tool

-- is_solid(opt : the edge/side where check collisions
-- obj : the object (must have w, h, offx, offy)
-- ox : additional x offset
-- oy : additional y offset
-- flags : number / list of numbers that contains the flags
-- debug = if true draw red pixel on "collision-pixel" position)
function is_solid(opt,obj,offx,offy,flags,debug)
	local col_list={}
	offx_=offx
	offy_=offy
	flags_=flags or {0}
	if(type(flags_)!="table") flags_={flags}
	local ix=obj.offx+offx_
	local iy=obj.offy+offy_
	for x=ix,ix+obj.width,8 do
		for y=iy,iy+obj.heigth,8 do
			if opt==nil
			or opt=="full"
			then
				add(col_list, {x=min(x,ix+obj.width), y=min(y,iy+obj.heigth)})
			end
		end
	end
	if(debug) print(#col_list)
	for c in all(col_list) do 
		if(debug) pset(c.x, c.y, 8)
		for v in all(flags) do
			if(fget(mget(c.x/8, c.y/8),v))return true
		end
	end
	return false
end


__gfx__
00000000000ff000bbbbbbbbbbbbbb3b000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000ff000bbbbbbbbbbbbb3bb000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0070070005544550bb3a3bbbbbbbbbbb000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0007700005444450bbb3bbbbbbb3b33b000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000770000d4444d0bb444bbbbbbb3bbb000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
007007000d5445d0bbbbbbbbbbbbbbbb000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000500500bbbbbbbbb3b33bbb000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000100100bbbbbbbbbb3bbbbb000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
bbbbbbbbbbbbbbbbbbbbbbbb00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
bbbb4bb4bb4bb4bb4bb4bbbb00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
bb44344344344344344344bb00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
bb4b4bb4bb4bb4bb4bb4b4bb00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
bb4b4bb4bb4bb4bb4bb4b4bb00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
bb4bbbbbbbbbbbbbbbbbb4bb00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
bb4bbbbbbbbbbbbbbbbbb4bb00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
bb4bbbbbbbbbbbbbbbbbb4bb00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
bb4bbbbb00000000bbbbb4bb00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
bb44bbbb00000000bbbb44bb00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
bb4bbbbb00000000bbbbb4bb00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
bb4bbbbb00000000bbbbb4bb00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
bb4bbbbb00000000bbbbb4bb00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
bb4bbbbb00000000bbbbb4bb00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
bb44bbbb00000000bbbb44bb00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
bb4bbbbb00000000bbbbb4bb00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
bb4b4bbb4bbbbbb4bbb4b4bb00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
bb44344434444443444344bb00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
bbbb4bbb4bbbbbb4bbb4bbbb00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
bbbbbbbbbbbbbbbbbbbbbbbb00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
bbbbbbbbbbbbbbbbbbbbbbbb00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
bbbbbbbbbbbbbbbbbbbbbbbb00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
bbbbbbbbbbbbbbbbbbbbbbbb00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
bbbbbbbbbbbbbbbbbbbbbbbb00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
30303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303002303030303030303030303030023020
20303022303030303030303030303022303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030
30303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303002303030303030303030303030023030
20303022303030303030303030303022303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030
30303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303002303030303030303030303030031313
13131323303030303030303030303022303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030
30303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303002303030303030303030303030303030
30303030303030303030303030303022303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030
30303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303002303030303030303030303030303030
30303030303030303030303030303022303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030
30303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303002303030303030303030303030303030
30303030303030303030303030303022303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030
30303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303002303030303030303030303030303030
30303030303030303030303030303022303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030
30303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303002303030303030303030303030303030
30303030303030303030303030303022303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030
30303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303002303030303030303030303030303030
30303030303030303030303030303022303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030
30303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303002303030303030303030303030303030
30303030303030303030303030303022303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030
30303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303002303030303030303030303030303030
30303030303030303030303030303022303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030
30303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303002303030303030303030303030303030
30303030303030303030303030303022303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030
30303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303002303030303030303030303030303030
30303030303030303030303030303022303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030
30303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303002303030303030303030303030303030
30303030303030303030303030303022303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030
30303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303002303030303030303030303030303030
30303030303030303030303030303022303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030
30303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303003131313131313131313131313131313
13131313131313131313131313131322303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030
30303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030
30303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030
30303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030
30303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030
30303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030
30303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030
30303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030
30303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030
30303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030
30303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030
30303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030
30303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030
30303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030
30303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030
30303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030
30303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030
30303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030
30303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030
30303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030
30303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030
30303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030
30303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030
30303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030
30303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030
30303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030
30303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030
30303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030
30303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030
30303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030
30303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030
30303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030
30303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030
__map__
0203020303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303
0302030203020303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303
0203020302020303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303
0303030302030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303
0303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303
0303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303
0303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303
0303030303030302030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303
0303030303030303020303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303
0303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303
0303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303
0303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303
0303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303
0303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303
0303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303
0303030303030303030303030303030203030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303
0303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303031011111111111111111111111111111111111111111111111111111111111111030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303
0303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303032003030303030303030303030303030303030303030303030303030303030322030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303
0303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303032003030303030303030303030303030303030303030303030303030303030322030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303
0303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303032003030303030303030303030303030303030303030303030303030303030322030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303
0303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303032003030303030303030303030303030303030303030303030303030303030322030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303
0303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303032003030303030303030303030303030303030303030303030303030303030322030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303
0303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303032003030303030303030303030303030303030303030303030303030303030322030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303
0303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303032003030303030303030303030303030303030303030303030303030303030322030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303
0303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303032003030303030303030303030303030303030303030303030303030303030322030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303
0303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303032003030303030303030303030303030303030303030303030303030303030322030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303
0303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303032003030303030303030303030303030303030303030303030303030303030322030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303
0303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303032003030303030303030303030303030303030303030303030303030303030322030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303
0303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303032003030303030303030303030303030303030303030303030303030303030322030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303
0303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303032003030303030303030303030310111111111112030303030303030303030322030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303
0303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303032003030303030303030303030320030302030322030303030303030303030322030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303
0303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303032003030303030303030303030320030202020322030303030303030303030322030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303
